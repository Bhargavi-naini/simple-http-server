#!/bin/bash
#set -eo pipefail

# Execute the run script from the customised builder.
#chmod +x /opt/app-root/s2i/run
#exec  /opt/app-root/builder/run
#exec /opt/app-root/s2i/run
#chmod +x /tmp/rabbitmq/run-rabbitmq-server.sh
#CMD ["/tmp/rabbitmq/run-rabbitmq-server.sh"]

#CMD ["/start-kafka.sh"]

ls 
echo "after ls:1"
tar  -xvf kafka_2.11-2.3.0.tgz

ls 
echo "after ls:2"

cd  kafka_2.11-2.3.0

ls
echo "after ls:3"
cd kafka 

ls 
echo"after ls:4"

pwd 
echo "after pwd"

echo "running run scripts "

# Create a topic
/bin/kafka-topics.sh --create \
  --zookeeper localhost:2181 \
  --replication-factor 1 --partitions 13 \
  --topic my-topic
  
#list topics
/bin/kafka-topics.sh --list \
    --zookeeper localhost:2181

